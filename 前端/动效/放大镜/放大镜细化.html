<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<script src="css/function.js"></script>
	<style>
	body{border: 0;padding: 0;list-style: none;}
       .small{
       	width: 390px;
       	height: 370px;
       	border: 1px solid black;
       	position: absolute;
       	left: 0;
       	top: 0;
       }
       .big{
        width: 390px;
        height: 370px;
        border: 1px solid black;
        position: absolute;
        left: 400px;
        top: 0;
        overflow: hidden;
        display: none;
       }
       .he{
       	width: 80px;
       	height: 80px;
       	position: absolute;
       	left: 0;
       	top: 0;
       	background: rgba(56,56,56,0.3);
       	display: none;
       }
        .zhe{
        	width: 100%;
        	height: 100%;
        	position: absolute;
        	left: 0;
        	top: 0;
        }
        .big>img{
        	position: absolute;
        	left: 0;
        	top: 0;
        }
	</style>
</head>
<body>
	<div class="box">
		<div class="small">
			<img src="74.jpg" alt="">
			<div class="he"></div>
			<div class="zhe"></div>
		</div>
		<div class="big">
			<img src="75.jpg" alt="">
		</div>
	</div>
</body>
<script>
	var small=$(".small")[0];
	var big=$(".big")[0];
	var he=$(".he")[0];
	var img=$("img",big)[0];
	hover(small,function(){
		he.style.display="block";
		big.style.display="block";
        small.style.cursor="none";
	},function(){
		he.style.display="none";
		big.style.display="none";
	})
	small.onmousemove=function(e){
        e=e||window.event;
        var heh=he.offsetHeight;
        var hew=he.offsetWidth;
        var smallh=small.offsetHeight;
        var smallw=small.offsetWidth;
        var hey=e.offsetY-(he.offsetHeight/2);
        var hex=e.offsetX-(he.offsetWidth/2);
        if(hey>smallh-heh){hey=smallh-heh}
        if(hey<=0){hey=0}
        if(hex>smallw-hew){hex=smallw-hew}
        if(hex<=0){hex=0}
        he.style.top=hey+"px";
        he.style.left=hex+"px";
        var x=(img.offsetWidth-big.offsetWidth)/(small.offsetWidth-he.offsetWidth/2);
        var y=(img.offsetHeight-big.offsetHeight)/(small.offsetHeight-he.offsetHeight/2);
        var imgy=e.offsetY;
        var imgx=e.offsetX;
        img.style.top=-imgy*y+"px";
        img.style.left=-imgx*x+"px";
	}
</script>
</html>