<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<script src="js/function.js"></script>
	<script src="js/animate.js"></script>

	<style>
body,ul,li{
	margin: 0;
	padding: 0;
	list-style: none;
}
.bigbox{
	width: 100%;
	height: 470px;
	background-color: pink;
}
.banner{
	width: 1190px;
	height: 470px;
	position: relative;
	margin: 0 auto;
}
.picc{
    width: 1190px;
	height: 470px;
	position: relative;
	overflow: hidden;
}
.picc a{
     position: absolute;
     top: 0;
     left: 0px;
	}
.can{
	width: 200px;
	height: 25px;
	position: absolute;
	left: 0;
	right: 0;
	margin: 0 auto;
	top:430px;
}
.can li{
	width: 40px;
	height: 25px;
	float: left;
	margin-right: 10px;
	background: rgba(0,0,0,0.5);
}
.can .con{
	background: rgba(255,0,0,0.6)
}
.box{
	width: 50px;
	height: 80px;
	background: #666;
	font-size: 30px;
	line-height: 80px;
	text-align: center;
	position: absolute;
	cursor: pointer;
    top: 200px;
    color: #fff;
    display: none;
}
.left{
	left: 0;
}
.left:hover{
	background: rgba(255,0,0,0.6);
}
.right{
	right: 0;
}
.right:hover{
	background: rgba(255,0,0,0.6);
}
	</style>
</head>
<body>
<div class="bigbox">
	<div class="banner">
		<div class="picc">
		<a href="" class="pic">
			<img src="img/7.jpg" alt=""></a>
		<a href="">
			<img src="img/130.jpg" alt=""></a>
		<a href="">
			<img src="img/131.jpg" alt=""></a>
		<a href="">
			<img src="img/132.jpg" alt=""></a>
		</div>
		<ul class="can">	
			<li class="con"></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
			<div class="box left">&lt;</div>
			<div class="box right">&gt;</div>
	</div>
</div>
</body>
</html>
<script>
	var pic=$("a",$(".picc")[0]);
	var con=$("li",$(".can")[0]);
	var lefts=$(".box left")[0];
	var rights=$(".box right")[0];
	var banner=$(".banner")[0];
    for(var i=1;i<pic.length;i++){   //把余下三张图放在右边
    	pic[i].style.left="1190px";
    }
    var now=0;
    var next=0;
    function chack(type){
    	type=type||"right";
    	if(type=="right"){
    		next++;
    		if(next>=pic.length){
    			next=0;
    		}
	    	pic[next].style.left="1190px"; //候选图片 
	    	pic[now].style.left="0px";
	    	animate(pic[next],{left:0});
	    	animate(pic[now],{left:-1190});
	    	con[now].className="";
	    	con[next].className="con";
	    	now++;
    		if(now>=pic.length){
    			now=0;
    	 	}
    	}
    	else if(type=="left"){
    		next--;
    		if(next<=-1){
    			next=pic.length-1;
    		}
	    	pic[next].style.left="-1190px";
	    	pic[now].style.left="0px";
	    	animate(pic[next],{left:0});
	    	animate(pic[now],{left:1190});
	    	con[now].className="";
	    	con[next].className="con";
	    	now--;
	    	if(now<=-1){
	    		now=pic.length-1;
	    	}
	    }
    }
        var a=setInterval(chack,2000);
        banner.onmouseover=function(){
        	clearInterval(a);
        	lefts.style.display="block";
        	rights.style.display="block";
        }
        banner.onmouseout=function(){
        	a=setInterval(chack,2000)
        	lefts.style.display="none";
        	rights.style.display="none";
        }
        rights.onclick=function(){
            chack("right");
        }
        lefts.onclick=function(){
            chack("left");
        }
        for(j=0;j<con.length;j++){
        	con[j].aa=j;
        	con[j].onclick=function(){
        	next=this.aa;
        	pic[next].style.left="1190px";
	    	pic[now].style.left="0px";
	    	animate(pic[next],{left:0});
	    	animate(pic[now],{left:-1190});
	    	con[now].className="";
	    	con[next].className="con";
        	now=next;
           }
        }
        
</script>